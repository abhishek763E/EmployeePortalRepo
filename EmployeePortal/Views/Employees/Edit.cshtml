@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@model EmployeePortal.Models.Entities.Employee
<h1>Edit Employee</h1>

@{
    // Define the list of popular cities directly in the view
    var cities = new List<SelectListItem>
    {
        new SelectListItem { Text = "Delhi", Value = "Delhi" },
        new SelectListItem { Text = "Mumbai", Value = "Mumbai" },
        new SelectListItem { Text = "Kolkata", Value = "Kolkata" },
        new SelectListItem { Text = "Bangalore", Value = "Bangalore" },
        new SelectListItem { Text = "Chennai", Value = "Chennai" },
        new SelectListItem { Text = "Hyderabad", Value = "Hyderabad" },
        new SelectListItem { Text = "Pune", Value = "Pune" },
        new SelectListItem { Text = "Ahmedabad", Value = "Ahmedabad" },
        new SelectListItem { Text = "Jaipur", Value = "Jaipur" },
        new SelectListItem { Text = "Lucknow", Value = "Lucknow" },
        new SelectListItem { Text = "Surat", Value = "Surat" },
        new SelectListItem { Text = "Kanpur", Value = "Kanpur" },
        new SelectListItem { Text = "Nagpur", Value = "Nagpur" },
        new SelectListItem { Text = "Indore", Value = "Indore" },
        new SelectListItem { Text = "Thane", Value = "Thane" },
        new SelectListItem { Text = "Bhopal", Value = "Bhopal" },
        new SelectListItem { Text = "Visakhapatnam", Value = "Visakhapatnam" },
        new SelectListItem { Text = "Pimpri-Chinchwad", Value = "Pimpri-Chinchwad" },
        new SelectListItem { Text = "Patna", Value = "Patna" },
        new SelectListItem { Text = "Vadodara", Value = "Vadodara" }
    };
}

@if (Model is null)
{
    <h1>employeee was not found with this id</h1>
}
else
{
    <form method="post" enctype="multipart/form-data">

        <div class="mt-3">
            <label class="form-label">Name</label>
            <input type="text" class="form-control" asp-for="Name" />
        </div>
        <div class="form-group">
            <label for="gender">Gender</label><br />

            @Html.RadioButtonFor(model => model.Gender, "Male")
            <label>Male</label>

            @Html.RadioButtonFor(model => model.Gender, "Female")
            <label>Female</label>

            @Html.RadioButtonFor(model => model.Gender, "Other")
            <label>Other</label>
        </div>
        <div class="mt-3">
            <label class="form-label">phone</label>
            <input type="text" class="form-control" asp-for="Phone" />
        </div>
        <div class="mt-3">
            <label class="form-label">Basic Salary</label>
            <input type="number" class="form-control" asp-for="BasicSalary" id="BasicSalary" oninput="calculateTotal()" />
        </div>
        <div class="mt-3">
            <label class="form-label">HRA</label>
            <input type="number" class="form-control" asp-for="Hra" id="Hra" oninput="calculateTotal()" />
        </div>
        <div class="mt-3">
            <label class="form-label">Convenience</label>
            <input type="number" class="form-control" asp-for="Convenience" id="Convenience" oninput="calculateTotal()" />
        </div>
        <div class="mt-3">
            <label class="form-label">Total Salary</label>
            <input type="number" class="form-control" asp-for="TotalSalary" id="TotalSalary" readonly />
        </div>


        <script>
            function calculateTotal() {
                const basic = parseFloat(document.getElementById("BasicSalary").value) || 0;
                const hra = parseFloat(document.getElementById("Hra").value) || 0;
                const convenience = parseFloat(document.getElementById("Convenience").value) || 0;

                const total = basic + hra + convenience;

                document.getElementById("TotalSalary").value = total.toFixed(2);
            }
        </script>
        <div class="mt-3">
            <label class="form-label" for="City">City</label>
            @Html.DropDownListFor(model => model.City, cities, "Select a City", new { @class = "form-control" })
        </div>
        <div class="mt-3">
            <label class="form-label">email</label>
            <input type="email" class="form-control" asp-for="Email" />
        </div>
        <div class="mt-3">
            <label class="form-label" for="ImageData">Image</label>
            <input type="file" class="form-control" asp-for="ImageData" />
        </div>


    <div class=" mt-3">
        <button type="submit" class=" btn btn-primary">save</button>
            <button type="submit" class=" btn btn-danger ms-3" asp-action="Delete" asp-controller="Employees" asp-route-id="@Model.Id"> Delete</button>
    </div>
</form>
}


